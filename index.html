<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>üî• Dragon's Crypt Lite</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* –°—Ç–∏–ª–∏ –æ—Å—Ç–∞—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π */
    </style>
</head>
<body>
    <div class="game-container">
        <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–≥—Ä—ã –±–µ–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π NFT -->
        <div id="inventory">
            <h3>üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
            <div id="inventory-items"></div>
        </div>
    </div>

    <script>
        // –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–º–µ—Ç–æ–≤
        class GameItem {
            constructor(name, type, stats) {
                this.id = Math.random().toString(36).substr(2,9);
                this.name = name;
                this.type = type;
                this.stats = stats;
            }
        }

        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
        const itemsDB = {
            dragonSword: new GameItem('üó°Ô∏è –ú–µ—á –¥—Ä–∞–∫–æ–Ω–∞', 'weapon', { attack: 15 }),
            healthPotion: new GameItem('üß™ –ó–µ–ª—å–µ –∑–¥–æ—Ä–æ–≤—å—è', 'consumable', { hp: 50 })
        };

        // –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—Ä–∞—Ñ—Ç–∞
        const craftingRecipes = [
            {
                result: itemsDB.dragonSword,
                requirements: [
                    { item: 'dragonScale', quantity: 3 },
                    { item: 'ironOre', quantity: 5 }
                ]
            }
        ];

        // –°–∏—Å—Ç–µ–º–∞ –≥–∏–ª—å–¥–∏–π
        class Guild {
            constructor(name) {
                this.name = name;
                this.members = [];
                this.level = 1;
            }

            addMember(player) {
                if (this.members.length < 30) {
                    this.members.push(player);
                }
            }
        }

        // –¢–æ—Ä–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
        class Marketplace {
            constructor() {
                this.listings = [];
            }

            addListing(item, price) {
                this.listings.push({
                    item: item.id,
                    price: price,
                    seller: gameState.playerId
                });
            }
        }

        // –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
        const dailyQuests = [
            {
                title: "–°–±–æ—Ä —Ä–µ—Å—É—Ä—Å–æ–≤",
                objective: { target: 'wood', amount: 10 },
                reward: { gold: 100, items: ['healthPotion'] }
            }
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
        const gameState = {
            inventory: [],
            guild: null,
            completedQuests: [],
            currency: {
                gold: 0,
                gems: 0
            }
        };

        // –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫—Ä–∞—Ñ—Ç–∞
        function craftItem(recipe) {
            if (checkRequirements(recipe.requirements)) {
                gameState.inventory.push(recipe.result);
                updateInventoryUI();
            }
        }

        function checkRequirements(requirements) {
            return requirements.every(req => {
                const itemCount = gameState.inventory.filter(
                    i => i.id === req.item
                ).length;
                return itemCount >= req.quantity;
            });
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function initGame() {
            renderCraftingRecipes();
            loadDailyQuests();
            updateInventoryUI();
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π
        function loadDailyQuests() {
            const now = new Date();
            if (!localStorage.getItem('questsRefresh') || 
                now > new Date(localStorage.getItem('questsRefresh'))) {
                gameState.availableQuests = [...dailyQuests];
                localStorage.setItem('questsRefresh', 
                    new Date(now.setDate(now.getDate() + 1)));
            }
        }

        // –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
        initGame();
    </script>
</body>
</html>
