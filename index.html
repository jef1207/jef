<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Киоск печати</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f0f4f8;
    margin: 0;
    padding: 20px;
  }
  header {
    background-color: #007bff;
    color: white;
    padding: 15px;
    text-align: center;
    font-size: 24px;
  }
  .section {
    background-color: white;
    border-radius: 8px;
    padding: 20px;
    margin-top: 20px;
  }
  h2 {
    margin-top: 0;
  }
  .usb-area {
    border: 2px dashed #ccc;
    padding: 40px;
    text-align: center;
    font-size: 18px;
    color: #555;
  }
  button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 12px 24px;
    margin-top: 10px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
  }
  button:hover {
    background-color: #0056b3;
  }
  input[type="number"], select {
    width: calc(100% - 20px);
    padding: 8px;
    margin-top:10px;
    margin-bottom:20px;
    border-radius:4px;
    border:1px solid #ccc;
}
.file-info {
  margin-top:10px; 
}
.hidden {
 display:none; 
}
.message {
 margin-top:20px; 
 font-size:18px; 
 color:#28a745; 
 font-weight:bold; 
}
</style>
</head>
<body>

<header>Киоск печати</header>

<div class="section" id="usb-section">
<h2>Вставьте USB-накопитель для выбора файла</h2>
<div class="usb-area" id="usb-area">
   <p>Перетащите файл сюда или нажмите "Обзор файлов"</p>
   <button id="browseBtn">Обзор файлов на флешке</button>
   <input type="file" id="fileInput" style="display:none" />
</div>
<div id="fileSelected" class="file-info hidden">
   <strong>Выбран файл:</strong> <span id="fileName"></span><br/>
   <button id="nextBtn" disabled>Далее</button>
</div>
</div>

<div class="section hidden" id="settings-section">
<h2>Настройки печати</h2>
<label>Количество копий:</label><br/>
<input type="number" id="copies" min="1" max="100" value="1"/><br/>

<label>Тип бумаги:</label><br/>
<select id="paperType">
<option value="матовая">Матовая</option>
<option value="глянцевая">Глянцевая</option>
</select><br/>

<label>Размер:</label><br/>
<select id="size">
<option value="A4">A4</option>
<option value="A3">A3</option>
</select><br/>

<button id="previewBtn">Предварительный просмотр</button>
</div>

<div class="section hidden" id="preview-section">
<h2>Предварительный просмотр документа</h2>
<p><strong>Файл:</strong> <span id="previewFileName"></span></p>
<!-- Можно вставить миниатюру или изображение -->
<div style="border:1px solid #ccc; height:150px; display:flex; align-items:center; justify-content:center;">
<p>Миниатюра документа (заглушка)</p>
</div>

<button id='payBtn'>Оплатить и напечатать</button>
<button id='backToSettings'>Назад к настройкам</button>

<div class='message hidden' id='printMessage'>Пожалуйста, заберите ваш документ на выходе. Спасибо!</div>

</div>

<script>
// Элементы
const usbArea = document.getElementById('usb-area');
const fileInput = document.getElementById('fileInput');
const browseBtn = document.getElementById('browseBtn');
const fileSelectedDiv = document.getElementById('fileSelected');
const fileNameSpan = document.getElementById('fileName');
const nextBtn = document.getElementById('nextBtn');

const settingsSection = document.getElementById('settings-section');
const previewSection = document.getElementById('preview-section');

const previewFileNameSpan = document.getElementById('previewFileName');
const payBtn = document.getElementById('payBtn');
const backToSettingsBtn = document.getElementById('backToSettings');

const printMessage = document.getElementById('printMessage');

// Шаги
let selectedFileName = '';

browseBtn.onclick = () => {
   fileInput.click();
};

fileInput.onchange = () => {
   if (fileInput.files.length >0) {
       selectedFileName = fileInput.files[0].name;
       fileNameSpan.textContent = selectedFileName;
       fileSelectedDiv.classList.remove('hidden');
       nextBtn.disabled=false;

       // Можно добавить обработку файла или миниатюры
   }
};

nextBtn.onclick=()=>{
   // Переход к настройкам
   document.getElementById('usb-section').classList.add('hidden');
   settingsSection.classList.remove('hidden');

   // Передача имени файла в предварительный просмотр
   previewFileNameSpan.textContent=selectedFileName;

   // Сброс настроек
   document.getElementById('copies').value=1;
   document.getElementById('paperType').value='матовая';
   document.getElementById('size').value='A4';

};

document.getElementById('previewBtn').onclick=()=>{
   // Переход к предпросмотру
   settingsSection.classList.add('hidden');
   previewSection.classList.remove('hidden');
};

backToSettings.onclick=()=>{
   // Назад к настройкам
   previewSection.classList.add('hidden');
   settingsSection.classList.remove('hidden');
};

payBtn.onclick=()=>{
   // Имитация оплаты и завершения
   previewSection.innerHTML=`
     <h2>Оплата прошла успешно!</h2>
     <p>Пожалуйста, заберите ваш документ на выходе.</p>`;
   
   // Показываем сообщение о готовности
   printMessage.classList.remove('hidden');

};
</script>

</body>
</html>
